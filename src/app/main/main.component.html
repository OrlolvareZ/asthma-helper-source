<p>
    <mat-toolbar color="primary">
        <span>INHLR Monitor</span>
        <span class="toolbar-spacer"></span>
        <button mat-icon-button [matMenuTriggerFor]="menu">
            <mat-icon>menu</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
            <button mat-menu-item (click)="openEmailDialog(emailView)">
                <mat-icon fontIcon="group"/>
                <span>Gestionar contactos de confianza</span>
            </button>
        </mat-menu>
    </mat-toolbar>
</p>

<div
    class="container"
    [class.flex-center]="isSyncing"
>

    @if (isSyncing) {
    
        <div class="flex-center col appear">
            <mat-progress-spinner
                class="flex sp-bottom"
                mode="indeterminate"
            />
            <p class="flex">
                Obteniendo datos de tu &nbsp;<span class="inhlr">INHLR</span>...
            </p>
        </div>
    
    }
    @else {



    }

</div>

<ng-template #emailView>

    <h1 mat-dialog-title>Contactos guardados</h1>

    <mat-divider/>

    <div mat-dialog-content>

        @if (isLoadingContacts) {
            <mat-progress-bar class="appear" mode="indeterminate"/>
        }
        @else if (!contacts) {
            <div class="center-container appear">
                <h1>Hubo un error al cargar tus contactos ðŸ˜¢</h1>
                <p>Por favor asegÃºrate de que tu <span class="inhlr">INHLR</span> estÃ© encendido</p>
            </div>
        }

    </div>

    <mat-divider/>

    <div mat-dialog-actions>
        <button
            mat-button
            mat-dialog-close
            [disabled]="isLoadingContacts"
        >
            Volver
        </button>
        <button
            color="accent"
            mat-flat-button
            [mat-dialog-close]="null"
            [disabled]="isLoadingContacts || contactsChanged"
        >
            Actualizar
        </button>
    </div>

</ng-template>
